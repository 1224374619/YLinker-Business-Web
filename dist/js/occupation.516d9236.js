(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["occupation"],{"0069":function(e,t,a){"use strict";var r=a("5de2"),n=a.n(r);n.a},"079a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"occupation"},[a("el-container",{staticClass:"el-container"},[a("el-aside",{attrs:{width:"177px"}},[a("el-menu",{staticClass:"el-menu",attrs:{router:!0,"default-active":e.activedMenu},on:{select:e.toggleActivedMenu}},e._l(e.subRoutes,function(t,r){return a("el-menu-item",{key:r,attrs:{index:t.path}},[t.icon?a("span",{staticClass:"icon",domProps:{innerHTML:e._s(t.icon)}}):a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))])])}),1)],1),a("el-main",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("您的位置：职位管理")]),e._l(e.subRoutes,function(t,r){return[e.currentRoute===t.path?a("el-breadcrumb-item",{key:r,attrs:{to:{path:t.path}}},[e._v(e._s(t.label))]):e._e()]})],2),a("router-view")],1)],1)],1)},n=[],i=a("d225"),o=a("b0b4"),s=a("308d"),l=a("6bb5"),c=a("4e2b"),u=a("9ab4"),p=a("60a3"),d=a("676b"),m=a("d8c9"),f=[{path:"/occupation/info",label:"职位总览",icon:"&#xe61f;"},{path:"/occupation/add",label:"新增职位",icon:"&#xe611;"},{path:"/occupation/recycle",label:"回收站",icon:"&#xe621;"}],b=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.currentRoute="",e.activedMenu="/occupation/info",e.subRoutes=f,e}return Object(c["a"])(t,e),Object(o["a"])(t,[{key:"syncRoute",value:function(e){this.currentRoute=e,this.activedMenu=this.currentRoute}},{key:"mounted",value:function(){this.syncRoute(this.$route.path)}},{key:"updated",value:function(){this.syncRoute(this.$route.path)}},{key:"toggleActivedMenu",value:function(e){this.syncRoute(e)}}]),t}(p["b"]);b=u["a"]([Object(p["a"])({components:{CustomizedFooter:d["a"],CustomizedNav:m["a"]}})],b);var g=b,v=g,h=(a("4cca"),a("5f55"),a("2877")),y=Object(h["a"])(v,r,n,!1,null,"5efee86c",null);t["default"]=y.exports},"0b46":function(e,t,a){"use strict";var r=a("3352"),n=a.n(r);n.a},"13b2":function(e,t,a){"use strict";var r=a("fbb2"),n=a.n(r);n.a},"1df0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"occupation-recycle-container"},[a("board",{staticClass:"list",attrs:{title:"职位列表"}},[a("div",{staticClass:"filters"},[a("el-form",{staticClass:"form",attrs:{inline:!0,model:e.filters}},[a("div",{staticClass:"inputs"},[a("el-form-item",{attrs:{label:"招聘职位"}},[a("el-input",{attrs:{placeholder:"请输入职位名称"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}})],1)],1),a("div",{staticClass:"operations"},[a("el-button",{on:{click:e.resetFilters}},[e._v("重置")]),a("el-button",{attrs:{type:"primary main"},on:{click:e.doSearch}},[e._v("查询")])],1)])],1),a("el-table",{attrs:{data:e.tableData}},[a("table-empty-placeholder",{attrs:{slot:"empty"},slot:"empty"}),a("el-table-column",{attrs:{prop:"positionName",label:"职位名称"}}),a("el-table-column",{attrs:{label:"职位性质"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.jobType))])]}}])}),a("el-table-column",{attrs:{label:"地区"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.county))]),a("span",[e._v(e._s(t.row.province))])]}}])}),a("el-table-column",{attrs:{prop:"managerName",label:"负责 HR"}}),a("el-table-column",{attrs:{width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.recoverOccupation(t.row.id)}}},[e._v("还原")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteOccupation(t.row.id)}}},[e._v("永久删除")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":1,"page-sizes":[10,20,30,40],"page-size":e.paginations.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=(a("96cf"),a("3b8d")),s=a("d225"),l=a("b0b4"),c=a("308d"),u=a("6bb5"),p=a("4e2b"),d=a("9ab4"),m=a("60a3"),f=a("69fb"),b=a("fb4f"),g=a("5a0c"),v=a.n(g),h=a("a13a");function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(i["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var w=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.total=0,e.paginations={pageSize:10,pageNum:1},e.activedTabName="ONLINE",e.filters={keyword:""},e.pickerOptions2={shortcuts:[{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"今天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]},e.tableData=[],e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"resetFilters",value:function(){this.filters={keyword:""}}},{key:"recoverOccupation",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["h"])(t);case 2:this.$message.success("职位还原成功！"),this.doSearch();case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteOccupation",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("确认彻底删除？").then(function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["b"])(t);case 2:a.$message.success("职位删除成功！"),a.doSearch();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){});case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleSizeChange",value:function(e){this.doSearch({pageSize:e})}},{key:"handleCurrentChange",value:function(e){this.doSearch({pageNum:e})}},{key:"doSearch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},this.paginations=k({},this.paginations,{},t),a=k({},this.paginations,{},this.filters),e.next=5,Object(h["g"])(a);case 5:r=e.sent.data,this.tableData=r.list.map(function(e){return k({},e,{createdTime:v()(e.createdTime).format("YYYY-MM-DD")})}),this.total=r.total;case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.doSearch();case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(m["b"]);w=d["a"]([Object(m["a"])({components:{Board:f["a"],TableEmptyPlaceholder:b["a"]}})],w);var O=w,j=O,_=(a("0069"),a("cc29"),a("2877")),C=Object(_["a"])(j,r,n,!1,null,"9ce511ee",null);t["default"]=C.exports},2067:function(e,t,a){},"25db":function(e,t,a){},2617:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"occupation-info-container"},[a("div",{staticClass:"left"},[a("board",{attrs:{title:"职位看板"}},[a("ul",[a("li",[a("span",[e._v("已上线")]),a("span",[e._v(e._s(e.occupationBoardStatistics.onlineNum))])]),a("li",[a("span",[e._v("待上线")]),a("span",[e._v(e._s(e.occupationBoardStatistics.editingNum))])]),a("li",[a("span",[e._v("审核中")]),a("span",[e._v(e._s(e.occupationBoardStatistics.auditingNum))])]),a("li",[a("span",[e._v("审核未通过")]),a("span",[e._v(e._s(e.occupationBoardStatistics.auditFailedNum))])]),a("li",[a("span",[e._v("已下线")]),a("span",[e._v(e._s(e.occupationBoardStatistics.offlineNum))])])])]),a("board",{staticClass:"list",attrs:{title:"职位列表"}},[a("div",{staticClass:"filters"},[a("el-form",{staticClass:"form",attrs:{inline:!0,model:e.filters}},[a("div",{staticClass:"fields"},[a("el-form-item",{attrs:{label:"招聘职位"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.filters.keyword,callback:function(t){e.$set(e.filters,"keyword",t)},expression:"filters.keyword"}})],1),e.showMoreFilters?e._e():a("el-button",{attrs:{type:"text"},on:{click:function(t){e.showMoreFilters=!0}}},[e._v("展开 ▼")]),e.showMoreFilters?a("el-button",{attrs:{type:"text"},on:{click:function(t){e.showMoreFilters=!1}}},[e._v("收起 ▲")]):e._e()],1),e.showMoreFilters?a("div",{staticClass:"fields"},[a("el-form-item",{attrs:{label:"工作地址"}},[a("district",{attrs:{placeholder:"请选择工作地址"},on:{input:e.syncSelectedDistrict}})],1),a("el-form-item",{attrs:{label:"负责 HR"}},[a("el-select",{attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择负责 HR","remote-method":e.querySearchHRAsync,loading:e.loading},model:{value:e.filters.managerUid,callback:function(t){e.$set(e.filters,"managerUid",t)},expression:"filters.managerUid"}},e._l(e.candidatesHR,function(e){return a("el-option",{key:e.id,attrs:{label:e.realName,value:e.id}})}),1)],1)],1):e._e(),e.showMoreFilters?a("div",{staticClass:"fields"}):e._e(),a("div",{staticClass:"operations"},[a("el-button",{on:{click:e.resetFilters}},[e._v("重置")]),a("el-button",{attrs:{type:"primary main"},on:{click:e.doSearch}},[e._v("查询")])],1)])],1),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleToggloeTab},model:{value:e.activedTabName,callback:function(t){e.activedTabName=t},expression:"activedTabName"}},[a("div",{staticClass:"tab-operations"},[a("el-checkbox",{model:{value:e.filters.self,callback:function(t){e.$set(e.filters,"self",t)},expression:"filters.self"}},[e._v("只看自己")])],1),a("el-tab-pane",{attrs:{label:"已上线",name:"ONLINE"}},[a("el-table",{attrs:{data:e.ONLINETableData}},[a("table-empty-placeholder",{attrs:{slot:"empty"},slot:"empty"}),a("el-table-column",{attrs:{prop:"positionName",label:"职位名称"}}),a("el-table-column",{attrs:{label:"职位性质"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.findLabel(e.options.jobType,t.row.jobType)))])]}}])}),a("el-table-column",{attrs:{label:"地区"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.inspectLabel(e.districts,[t.row.province,t.row.county]))+"\n              ")]}}])}),a("el-table-column",{attrs:{prop:"managerName",label:"负责 HR"}}),a("el-table-column",{attrs:{width:"170",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.gotoOccupationDetailUI(t.row.id)}}},[e._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.getOccupationOffline(t.row.id)}}},[e._v("下线")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.refreshOccupation(t.row.id)}}},[e._v("刷新排名")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":1,"page-sizes":[10,20,30,40],"page-size":e.paginations.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"待上线",name:"EDITING"}},[a("el-table",{attrs:{data:e.EDITINGTableData}},[a("table-empty-placeholder",{attrs:{slot:"empty"},slot:"empty"}),a("el-table-column",{attrs:{prop:"positionName",label:"职位名称"}}),a("el-table-column",{attrs:{label:"职位性质"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.findLabel(e.options.jobType,t.row.jobType)))])]}}])}),a("el-table-column",{attrs:{label:"地区"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.inspectLabel(e.districts,[t.row.province,t.row.county]))+"\n              ")]}}])}),a("el-table-column",{attrs:{prop:"managerName",label:"负责 HR"}}),a("el-table-column",{attrs:{width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.gotoOccupationDetailUI(t.row.id)}}},[e._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.getOccupationOnline(t.row.id)}}},[e._v("上线")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":1,"page-sizes":[10,20,30,40],"page-size":e.paginations.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"审核中",name:"CHECKING"}},[a("el-table",{attrs:{data:e.CHECKINGTableData}},[a("table-empty-placeholder",{attrs:{slot:"empty"},slot:"empty"}),a("el-table-column",{attrs:{prop:"positionName",label:"职位名称"}}),a("el-table-column",{attrs:{label:"职位性质"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.findLabel(e.options.jobType,t.row.jobType)))])]}}])}),a("el-table-column",{attrs:{label:"地区"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.inspectLabel(e.districts,[t.row.province,t.row.county]))+"\n              ")]}}])}),a("el-table-column",{attrs:{prop:"managerName",label:"负责 HR"}}),a("el-table-column",{attrs:{width:"80",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.gotoOccupationDetailUI(t.row.id)}}},[e._v("查看")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":1,"page-sizes":[10,20,30,40],"page-size":e.paginations.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"审核未通过",name:"INVALID"}},[a("el-table",{attrs:{data:e.INVALIDTableData}},[a("table-empty-placeholder",{attrs:{slot:"empty"},slot:"empty"}),a("el-table-column",{attrs:{prop:"positionName",label:"职位名称"}}),a("el-table-column",{attrs:{label:"职位性质"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.findLabel(e.options.jobType,t.row.jobType)))])]}}])}),a("el-table-column",{attrs:{label:"地区"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.inspectLabel(e.districts,[t.row.province,t.row.county]))+"\n              ")]}}])}),a("el-table-column",{attrs:{prop:"managerName",label:"负责 HR"}}),a("el-table-column",{attrs:{width:"80",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.gotoOccupationDetailUI(t.row.id)}}},[e._v("查看")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":1,"page-sizes":[10,20,30,40],"page-size":e.paginations.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"已下线",name:"OFFLINE"}},[a("el-table",{attrs:{data:e.OFFLINETableData}},[a("table-empty-placeholder",{attrs:{slot:"empty"},slot:"empty"}),a("el-table-column",{attrs:{prop:"positionName",label:"职位名称"}}),a("el-table-column",{attrs:{label:"职位性质"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.findLabel(e.options.jobType,t.row.jobType)))])]}}])}),a("el-table-column",{attrs:{label:"地区"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.inspectLabel(e.districts,[t.row.province,t.row.county]))+"\n              ")]}}])}),a("el-table-column",{attrs:{prop:"managerName",label:"负责 HR"}}),a("el-table-column",{attrs:{width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.gotoOccupationDetailUI(t.row.id)}}},[e._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.getOccupationOnline(t.row.id)}}},[e._v("上线")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":1,"page-sizes":[10,20,30,40],"page-size":e.paginations.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)])},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=(a("7f7f"),a("96cf"),a("3b8d")),s=a("d225"),l=a("b0b4"),c=a("308d"),u=a("6bb5"),p=a("4e2b"),d=a("9ab4"),m=a("60a3"),f=a("2f62"),b=a("69fb"),g=a("0c1c"),v=a("fb4f"),h=a("5a0c"),y=a.n(h),k=a("dbfb"),w=a("a13a"),O=a("94c9"),j=a("d21a");function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach(function(t){Object(i["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var x=["OFFLINE","ONLINE","PENDING","EDITING","CHECKING","INVALID"],R=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.findLabel=j["c"],e.inspectLabel=j["d"],e.loading=!1,e.candidatesHR=[],e.occupationBoardStatistics={auditFailedNum:0,auditingNum:0,editingNum:0,offlineNum:0,onlineNum:0},e.total=0,e.paginations={pageSize:10,pageNum:1},e.activedTabName="ONLINE",e.filters={keyword:"",managerUid:"",province:"",self:!1,state:1},e.pickerOptions2={shortcuts:[{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"今天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]},e.showMoreFilters=!1,e.OFFLINETableData=[],e.CHECKINGTableData=[],e.ONLINETableData=[],e.PENDINGTableData=[],e.EDITINGTableData=[],e.INVALIDTableData=[],e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"getOccupationOnline",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["e"])(t);case 2:this.$message.success("职位上线成功！"),this.doSearch();case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOccupationOffline",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["d"])(t);case 2:this.$message.success("职位下线成功！"),this.doSearch();case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"refreshOccupation",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["i"])(t);case 2:this.$message.success("职位刷新成功！"),this.doSearch();case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleToggloeTab",value:function(e){this.filters.state=x.indexOf(e.name),this.doSearch()}},{key:"resetFilters",value:function(){this.filters={keyword:"",managerUid:"",province:"",self:!1,state:1}}},{key:"handleSizeChange",value:function(e){this.doSearch({pageSize:e})}},{key:"handleCurrentChange",value:function(e){this.doSearch({pageNum:e})}},{key:"doSearch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},this.paginations=C({},this.paginations,{},t),a=C({},this.paginations,{},this.filters),e.next=5,Object(w["f"])(a);case 5:r=e.sent.data,this["".concat(this.activedTabName,"TableData")]=r.list.map(function(e){return C({},e,{createdTime:y()(e.createdTime).format("YYYY-MM-DD")})}),this.total=r.total;case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"querySearchHRAsync",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(O["f"])({pageSize:10,pageNum:1,keyword:t});case 3:this.candidatesHR=e.sent.data.list,this.loading=!1;case 5:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"gotoOccupationDetailUI",value:function(e){this.$router.push({path:"/occupation/".concat(e)})}},{key:"syncSelectedDistrict",value:function(e){this.filters.province=e[e.length-1],console.log(e)}},{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.activedTabName=this.$route.query.tab||"ONLINE",e.next=3,Object(k["a"])();case 3:this.occupationBoardStatistics=e.sent.data,this.doSearch();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(m["b"]);R=d["a"]([Object(m["a"])({components:{Board:b["a"],District:g["a"],TableEmptyPlaceholder:v["a"]},computed:Object(f["e"])({options:function(e){return e.constants.options},districts:function(e){return e.constants.districts}})})],R);var S=R,D=S,T=(a("ba8a"),a("692a"),a("2877")),N=Object(T["a"])(D,r,n,!1,null,"4d56d7c7",null);t["default"]=N.exports},"2dfd":function(e,t,a){"use strict";var r=a("3dc9"),n=a.n(r);n.a},3352:function(e,t,a){},"37c3":function(e,t,a){"use strict";var r=a("b54a"),n=a.n(r);n.a},"3dc9":function(e,t,a){},4027:function(e,t,a){"use strict";var r=a("df6a"),n=a.n(r);n.a},"4cca":function(e,t,a){"use strict";var r=a("25db"),n=a.n(r);n.a},"5af8":function(e,t,a){"use strict";t["a"]=[{value:"101",label:"江苏省",children:[{value:"10101",label:"南京"},{value:"10102",label:"苏州"},{value:"10103",label:"无锡"},{value:"10104",label:"常州"},{value:"10105",label:"南通"},{value:"10106",label:"泰州"},{value:"10107",label:"扬州"},{value:"10108",label:"盐城"},{value:"10109",label:"镇江"},{value:"10110",label:"盐城"},{value:"10111",label:"宿迁"},{value:"10112",label:"淮安"},{value:"10113",label:"徐州"},{value:"10114",label:"连云港"}]}]},"5de2":function(e,t,a){},"5e0c":function(e,t,a){},"5f55":function(e,t,a){"use strict";var r=a("95dd"),n=a.n(r);n.a},"692a":function(e,t,a){"use strict";var r=a("5e0c"),n=a.n(r);n.a},"730b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"occupation-detail"},[a("div",{staticClass:"body"},[a("div",{staticClass:"form"},[a("el-form",{ref:"form",attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"职位 ID"}},[a("span",{staticClass:"value"},[e._v(e._s(e.form.id))])]),a("el-form-item",{attrs:{label:"职位名称"}},[a("span",{staticClass:"value"},[e._v(e._s(e.form.positionName))]),a("span",{staticClass:"tag"},[e._v(e._s(e.statusMapper[e.form.state]))])]),a("el-form-item",{attrs:{label:"工作性质"}},[a("span",{staticClass:"value"},[e._v(e._s(e.options.jobType[e.form.jobType]&&e.options.jobType[e.form.jobType]["tag"]))])]),a("el-form-item",{attrs:{label:"职位分类"}},[a("span",{staticClass:"value"},[e._v(e._s(e.inspectLabelBySingleCode(e.positionCatalogs,e.form.positionCatalog)))])]),a("el-form-item",{attrs:{label:"月薪范围"}},[a("span",{staticClass:"value"},[e._v(e._s(e.form.salaryMin)+"-"+e._s(e.form.salaryMax)+"K")])]),a("el-form-item",{attrs:{label:"最低学历"}},[a("span",{staticClass:"value"},[e._v(e._s(e.options.eduDegree[e.form.degreeMin]&&e.options.eduDegree[e.form.degreeMin]["tag"]))])]),a("el-form-item",{attrs:{label:"工作年限"}},[e.form.workAgeMax?a("span",{staticClass:"value"},[e._v(e._s(e.form.workAgeMin)+"-"+e._s(e.form.workAgeMax)+"年")]):a("span",{staticClass:"value"},[e._v(e._s(e.form.workAgeMin)+"年")])]),a("el-form-item",{attrs:{label:"工作地址"}},[a("span",{staticClass:"value"},[e._v(e._s(e.inspectLabel(e.districts,[e.form.workAddress.province,e.form.workAddress.county])))])]),a("el-form-item",{attrs:{label:"职位描述"}},[a("span",{staticClass:"value"},[e._v(e._s(e.form.description))])]),a("el-form-item",{attrs:{label:"任职要求"}},[a("span",{staticClass:"value"},[e._v(e._s(e.form.requirement))])]),a("div",{staticClass:"line"}),a("el-form-item",{attrs:{label:"负责 HR"}},[a("span",{staticClass:"value"},[e._v(e._s(e.form.managerName))])]),a("el-form-item",{attrs:{label:"投递邮箱"}},[a("span",{staticClass:"value"},[e._v(e._s(e.form.addedEmails.join(" | ")))])]),a("el-form-item",{staticClass:"operations"},[a("el-button",{on:{click:e.onReturnOccupationInfo}},[e._v("返回")]),[1,4].includes(e.form.state)?e._e():a("el-button",{staticClass:"main",attrs:{type:"primary"},on:{click:function(t){return e.gotoOccupationEditUI()}}},[e._v("编辑")])],1)],1)],1)])])},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=(a("c5f6"),a("96cf"),a("3b8d")),s=a("d225"),l=a("b0b4"),c=a("308d"),u=a("6bb5"),p=a("4e2b"),d=a("9ab4"),m=a("60a3"),f=a("2f62"),b=a("69fb"),g=a("a13a"),v=a("94c9"),h=a("d21a");function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(i["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var w=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.inspectLabelBySingleCode=h["e"],e.inspectLabel=h["d"],e.statusMapper=["已下线","已上线","待上线","编辑中","审核中","审核失败"],e.form={addedEmails:[{value:"",key:""}],state:1,addressId:"",degreeMin:"",description:"",isGraduate:!0,jobType:"",managerUid:"",positionCatalog:"",positionName:"",published:!0,requirement:"",salaryMax:"",salaryMin:"",template:!1,workAddress:{county:0,detail:"",latitude:0,longitude:0,province:0},workAgeMax:0,workAgeMin:0},e.occupationId=0,e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"gotoOccupationEditUI",value:function(){this.$router.push({path:"/occupation/".concat(this.occupationId,"/edit")})}},{key:"onReturnOccupationInfo",value:function(){this.$router.push({name:"occupation-info"})}},{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.occupationId=Number(this.$route.params.id),!this.occupationId){e.next=13;break}return e.next=4,Object(g["c"])(this.occupationId);case 4:return t=e.sent.data,e.t0=k,e.t1={},e.t2=t,e.next=10,Object(v["d"])(t.managerUid);case 10:e.t3=e.sent.data.realName,e.t4={managerName:e.t3},this.form=(0,e.t0)(e.t1,e.t2,e.t4);case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(m["b"]);w=d["a"]([Object(m["a"])({components:{Board:b["a"]},computed:Object(f["e"])({options:function(e){return e.constants.options},positionCatalogs:function(e){return Object(h["b"])(e.constants.positionCatalogs)},districts:function(e){return e.constants.districts}})})],w);var O=w,j=O,_=(a("0b46"),a("2dfd"),a("2877")),C=Object(_["a"])(j,r,n,!1,null,"2c709d82",null);t["default"]=C.exports},"95dd":function(e,t,a){},ac6f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"occupation-add"},[a("div",{staticClass:"body"},[a("h1",[e._v("编辑职位")]),a("div",{staticClass:"form"},[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"职位 ID"}},[a("span",[e._v(e._s(e.occupationId))])]),a("el-form-item",{attrs:{label:"职位名称",prop:"positionName"}},[a("el-input",{attrs:{placeholder:"请输入职位名称"},model:{value:e.form.positionName,callback:function(t){e.$set(e.form,"positionName",t)},expression:"form.positionName"}})],1),a("el-form-item",{attrs:{label:"工作性质",prop:"jobType"}},[a("el-select",{attrs:{placeholder:"请选择工作性质"},model:{value:e.form.jobType,callback:function(t){e.$set(e.form,"jobType",t)},expression:"form.jobType"}},e._l(e.options.jobType,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.tag}})}),1)],1),a("el-form-item",{attrs:{label:"职位分类",prop:"positionCatalog"}},[a("el-cascader",{attrs:{options:e.positionCatalogs,placeholder:"请选择职位分类"},model:{value:e.form.positionCatalog,callback:function(t){e.$set(e.form,"positionCatalog",t)},expression:"form.positionCatalog"}})],1),a("el-form-item",{attrs:{label:"月薪范围",prop:"salaryRange"}},[a("el-select",{attrs:{placeholder:"请选择月薪范围"},on:{change:e.syncSelectedSalary},model:{value:e.form.salaryRange,callback:function(t){e.$set(e.form,"salaryRange",t)},expression:"form.salaryRange"}},e._l(e.options.salaryRange,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.tag}})}),1)],1),a("el-form-item",{attrs:{label:"最低学历",prop:"degreeMin"}},[a("el-select",{attrs:{placeholder:"请选择最低学历"},model:{value:e.form.degreeMin,callback:function(t){e.$set(e.form,"degreeMin",t)},expression:"form.degreeMin"}},e._l(e.options.eduDegree,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.tag}})}),1)],1),a("el-form-item",{attrs:{label:"工作年限",prop:"workAgeRange"}},[a("el-select",{attrs:{placeholder:"请选择工作年限"},on:{change:e.syncWorkingAge},model:{value:e.form.workAgeRange,callback:function(t){e.$set(e.form,"workAgeRange",t)},expression:"form.workAgeRange"}},e._l(e.options.workAgeRange,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.tag}})}),1)],1),a("el-form-item",{attrs:{label:"工作地址",prop:"workAddress.province"}},[a("district",{staticClass:"inline-top-item",attrs:{placeholder:"请选择工作地址",value:e.form.mainArea},on:{input:e.syncSelectedDistrict}}),a("br"),a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.form.workAddress.detail,callback:function(t){e.$set(e.form.workAddress,"detail",t)},expression:"form.workAddress.detail"}})],1),a("el-form-item",{attrs:{label:"职位描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入职位描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"任职要求",prop:"requirement"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入任职要求"},model:{value:e.form.requirement,callback:function(t){e.$set(e.form,"requirement",t)},expression:"form.requirement"}})],1),a("div",{staticClass:"line"}),a("el-form-item",{attrs:{label:"负责 HR",prop:"managerUid"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择负责 HR","remote-method":e.querySearchHRAsync,loading:e.loading},model:{value:e.form.managerUid,callback:function(t){e.$set(e.form,"managerUid",t)},expression:"form.managerUid"}},e._l(e.candidatesHR,function(e){return a("el-option",{key:e.id,attrs:{label:e.realName,value:e.id}})}),1)],1),e._l(e.form.addedEmails,function(t,r){return a("el-form-item",{key:t.key,attrs:{label:0===r?"投递邮箱":"",prop:"addedEmails."+r+".value",rules:{required:!0,message:"投递邮箱不能为空",trigger:"blur"}}},[a("el-input",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请输入投递邮箱"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"email.value"}}),r===e.form.addedEmails.length-1?a("el-button",{on:{click:function(t){return t.preventDefault(),e.addEmail()}}},[e._v("添加")]):e._e(),1!==e.form.addedEmails.length?a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeEmail(t)}}},[e._v("删除")]):e._e()],1)}),a("el-form-item",{staticClass:"operations"},[a("el-button",{staticClass:"main",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(!1)}}},[e._v("提交")]),a("el-button",{staticClass:"main",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(!0)}}},[e._v("上线")])],1)],2)],1)])])},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("c5f6"),a("bd86")),o=(a("96cf"),a("3b8d")),s=a("d225"),l=a("b0b4"),c=a("308d"),u=a("6bb5"),p=a("4e2b"),d=a("9ab4"),m=a("60a3"),f=a("0c1c"),b=a("2f62"),g=a("5af8"),v=a("a13a"),h=a("d21a"),y=a("94c9");function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach(function(t){Object(i["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var O=0,j=function(e,t,a){if(e){var r=e.filter(function(e){return e.min===t&&e.max===a})[O];return r?r.code:null}return null},_=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.loading=!1,e.candidatesHR=[],e.occupationId=null,e.form={salaryRange:"",workAgeRange:"",addedEmails:[{value:"",key:""}],mainArea:[],addressId:"",degreeMin:"",description:"",isGraduate:!0,jobType:"",managerUid:"",positionCatalog:"",positionName:"",published:!0,requirement:"",salaryMax:"",salaryMin:"",template:!1,workAddress:{county:0,detail:"",latitude:0,longitude:0,province:0},workAgeMax:0,workAgeMin:0},e.citiesConstant=g["a"],e.dynamicTags=["标签一","标签二","标签三"],e.inputVisible=!1,e.inputValue="",e.rules={positionName:[{required:!0,message:"请输入职位名称",trigger:"blur"}],jobType:[{required:!0,message:"请选择工作性质",trigger:"blur"}],positionCatalog:[{required:!0,message:"请选择职位分类",trigger:"blur"}],salaryRange:[{required:!0,message:"请选择月薪范围",trigger:"blur"}],degreeMin:[{required:!0,message:"请选择最低学历",trigger:"blur"}],workAgeRange:[{required:!0,message:"请选择工作年限",trigger:"blur"}],"workAddress.province":[{required:!0,message:"请选择工作地址",trigger:"blur"}],description:[{required:!0,message:"请输入职位描述",trigger:"blur"}],requirement:[{required:!0,message:"请输入任职要求",trigger:"blur"}],managerUid:[{required:!0,message:"请选择负责 HR",trigger:"blur"}]},e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"onSubmit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.$refs.form;a.validate(function(){var a=Object(o["a"])(regeneratorRuntime.mark(function a(r){var n,i,o;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(!r){a.next=6;break}return n=e.form,i=n.addedEmails,o=n.positionCatalog,a.next=4,Object(v["j"])(e.occupationId,w({},e.form,{addedEmails:i.map(function(e){return e.value}),positionCatalog:o[o.length-1],published:t,salaryRange:void 0,workAgeRange:void 0,mainArea:void 0}));case 4:e.$message.success("职位发布成功！"),e.$router.push({name:"occupation-info"});case 6:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"syncSelectedSalary",value:function(e){var t=this.options.salaryRange.filter(function(t){return t.code===e})[O];this.form.salaryMin=t.min,this.form.salaryMax=t.max}},{key:"syncWorkingAge",value:function(e){var t=this.options.workAgeRange.filter(function(t){return t.code===e})[O];this.form.workAgeMin=t.min,this.form.workAgeMax=t.max}},{key:"querySearchHRAsync",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(y["f"])({pageSize:10,pageNum:1,keyword:t});case 3:this.candidatesHR=e.sent.data.list,this.loading=!1;case 5:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"handleClose",value:function(e){this.dynamicTags.splice(this.dynamicTags.indexOf(e),1)}},{key:"syncSelectedDistrict",value:function(e){this.form.workAddress.province=e[O],e.length>1&&(this.form.workAddress.county=e[O+1])}},{key:"showInput",value:function(){this.inputVisible=!0,this.$nextTick(function(){})}},{key:"handleInputConfirm",value:function(){var e=this.inputValue;e&&this.dynamicTags.push(e),this.inputVisible=!1,this.inputValue=""}},{key:"removeEmail",value:function(e){var t=this.form.addedEmails.indexOf(e);-1!==t&&this.form.addedEmails.splice(t,1)}},{key:"addEmail",value:function(){this.form.addedEmails.push({value:"",key:Date.now()})}},{key:"function",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.form=w({},this.form,{salaryRange:j(t.salaryRange,this.form.salaryMin,this.form.salaryMax),workAgeRange:j(t.workAgeRange,this.form.workAgeMin,this.form.workAgeMax)});case 1:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.occupationId=Number(this.$route.params.id),!this.occupationId){e.next=13;break}return e.next=4,Object(v["c"])(this.occupationId);case 4:return t=e.sent.data,this.form=w({},this.form,{},t,{positionCatalog:t.positionCatalog,mainArea:[t.workAddress.province,t.workAddress.county],addedEmails:t.addedEmails.map(function(e){return{value:e,key:Date.now()}}),salaryRange:this.options.salaryRange.filter(function(e){return e.min===t.salaryMin&&e.max===t.salaryMax})[O].code}),e.t0=w,e.t1={},e.next=10,Object(y["d"])(t.managerUid);case 10:e.t2=e.sent.data,e.t3=(0,e.t0)(e.t1,e.t2),this.candidatesHR=[e.t3];case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]),t}(m["b"]);d["a"]([Object(m["c"])("options",{immediate:!0,deep:!0})],_.prototype,"function",null),_=d["a"]([Object(m["a"])({components:{District:f["a"]},computed:Object(b["e"])({options:function(e){return e.constants.options},positionCatalogs:function(e){return Object(h["b"])(e.constants.positionCatalogs)}})})],_);var C=_,x=C,R=(a("37c3"),a("13b2"),a("2877")),S=Object(R["a"])(x,r,n,!1,null,"86c8f092",null);t["default"]=S.exports},b132:function(e,t,a){},b36e:function(e,t,a){},b54a:function(e,t,a){},ba8a:function(e,t,a){"use strict";var r=a("fcf1"),n=a.n(r);n.a},bc59:function(e,t,a){"use strict";var r=a("b36e"),n=a.n(r);n.a},bcaa4:function(e,t,a){"use strict";var r=a("2067"),n=a.n(r);n.a},cc29:function(e,t,a){"use strict";var r=a("e82a"),n=a.n(r);n.a},d7d7:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"occupation-draft-container"},[a("board",{staticClass:"list",attrs:{title:"职位列表"}},[a("div",{staticClass:"filters"},[a("el-form",{staticClass:"form",attrs:{inline:!0,model:e.filters}},[a("div",{staticClass:"inputs"},[a("el-form-item",{attrs:{label:"招聘职位"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"请输入内容"},on:{select:e.handleSelect},model:{value:e.filters.occupationName,callback:function(t){e.$set(e.filters,"occupationName",t)},expression:"filters.occupationName"}})],1),a("el-form-item",{attrs:{label:"保存时间"}},[a("el-date-picker",{attrs:{type:"datetimerange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2},model:{value:e.value7,callback:function(t){e.value7=t},expression:"value7"}})],1)],1),a("div",{staticClass:"operations"},[a("el-button",{on:{click:e.onSearch}},[e._v("重置")]),a("el-button",{attrs:{type:"primary main"},on:{click:e.onSearch}},[e._v("查询")])],1)])],1),a("el-table",{attrs:{data:e.onlineTableData}},[a("table-empty-placeholder",{attrs:{slot:"empty"},slot:"empty"}),a("el-table-column",{attrs:{prop:"date",label:"职位名称"}}),a("el-table-column",{attrs:{prop:"name",label:"上线时间"}}),a("el-table-column",{attrs:{prop:"address",label:"上线方式"}}),a("el-table-column",{attrs:{prop:"address",label:"工作性质"}}),a("el-table-column",{attrs:{prop:"address",label:"地区"}}),a("el-table-column",{attrs:{prop:"address",label:"保存时间"}}),a("el-table-column",{attrs:{prop:"address",label:"负责 HR"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"}},[e._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":1,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],i=a("d225"),o=a("b0b4"),s=a("308d"),l=a("6bb5"),c=a("4e2b"),u=a("9ab4"),p=a("60a3"),d=a("69fb"),m=a("fb4f"),f=a("5af8"),b=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.filters={occupationName:""},e.pickerOptions2={shortcuts:[{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"今天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]},e.citiesConstant=f["a"],e.onlineTableData=[],e.activedTabName="online",e.data=[],e}return Object(c["a"])(t,e),Object(o["a"])(t,[{key:"querySearchAsync",value:function(){}},{key:"onSearch",value:function(){}},{key:"mounted",value:function(){}}]),t}(p["b"]);b=u["a"]([Object(p["a"])({components:{Board:d["a"],TableEmptyPlaceholder:m["a"]}})],b);var g=b,v=g,h=(a("4027"),a("bc59"),a("2877")),y=Object(h["a"])(v,r,n,!1,null,"734e17b0",null);t["default"]=y.exports},da71:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"occupation-add"},[a("div",{staticClass:"body"},[a("h1",[e._v("新增职位")]),a("div",{staticClass:"form"},[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"职位名称",prop:"positionName"}},[a("el-input",{attrs:{placeholder:"请输入职位名称"},model:{value:e.form.positionName,callback:function(t){e.$set(e.form,"positionName",t)},expression:"form.positionName"}})],1),a("el-form-item",{attrs:{label:"工作性质",prop:"jobType"}},[a("el-select",{attrs:{placeholder:"请选择工作性质"},model:{value:e.form.jobType,callback:function(t){e.$set(e.form,"jobType",t)},expression:"form.jobType"}},e._l(e.options.jobType,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.tag}})}),1)],1),a("el-form-item",{attrs:{label:"职位分类",prop:"positionCatalog"}},[a("el-cascader",{attrs:{options:e.positionCatalogs,placeholder:"请选择职位分类"},model:{value:e.form.positionCatalog,callback:function(t){e.$set(e.form,"positionCatalog",t)},expression:"form.positionCatalog"}})],1),a("el-form-item",{attrs:{label:"月薪范围",prop:"salaryRange"}},[a("el-select",{attrs:{placeholder:"请选择月薪范围"},on:{change:e.syncSelectedSalary},model:{value:e.form.salaryRange,callback:function(t){e.$set(e.form,"salaryRange",t)},expression:"form.salaryRange"}},e._l(e.options.salaryRange,function(e){return a("el-option",{key:e.code,attrs:{value:[e.min,e.max],label:e.tag}})}),1)],1),a("el-form-item",{attrs:{label:"最低学历",prop:"degreeMin"}},[a("el-select",{attrs:{placeholder:"请选择最低学历"},model:{value:e.form.degreeMin,callback:function(t){e.$set(e.form,"degreeMin",t)},expression:"form.degreeMin"}},e._l(e.options.eduDegree,function(e){return a("el-option",{key:e.code,attrs:{value:e.code,label:e.tag}})}),1)],1),a("el-form-item",{attrs:{label:"工作年限",prop:"workAgeRange"}},[a("el-select",{attrs:{placeholder:"请选择工作年限"},on:{change:e.syncWorkingAge},model:{value:e.form.workAgeRange,callback:function(t){e.$set(e.form,"workAgeRange",t)},expression:"form.workAgeRange"}},e._l(e.options.workAgeRange,function(e){return a("el-option",{key:e.code,attrs:{value:[e.min,e.max],label:e.tag}})}),1)],1),a("el-form-item",{attrs:{label:"工作地址",prop:"workAddress.province"}},[a("district",{staticClass:"inline-top-item",attrs:{placeholder:"请选择工作地址"},on:{input:e.syncSelectedDistrict}}),a("br"),a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.form.workAddress.detail,callback:function(t){e.$set(e.form.workAddress,"detail",t)},expression:"form.workAddress.detail"}})],1),a("el-form-item",{attrs:{label:"职位描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入职位描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"任职要求",prop:"requirement"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入任职要求"},model:{value:e.form.requirement,callback:function(t){e.$set(e.form,"requirement",t)},expression:"form.requirement"}})],1),a("div",{staticClass:"line"}),a("el-form-item",{attrs:{label:"负责 HR",prop:"managerUid"}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择负责 HR","remote-method":e.querySearchHRAsync,loading:e.loading},model:{value:e.form.managerUid,callback:function(t){e.$set(e.form,"managerUid",t)},expression:"form.managerUid"}},e._l(e.candidatesHR,function(e){return a("el-option",{key:e.id,attrs:{label:e.realName,value:e.id}})}),1)],1),e._l(e.form.addedEmails,function(t,r){return a("el-form-item",{key:t.key,attrs:{label:0===r?"投递邮箱":"",prop:"addedEmails."+r+".value",rules:{required:!0,message:"投递邮箱不能为空",trigger:"blur"}}},[a("el-input",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请输入投递邮箱"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"email.value"}}),r===e.form.addedEmails.length-1?a("el-button",{on:{click:function(t){return t.preventDefault(),e.addEmail()}}},[e._v("添加")]):e._e(),1!==e.form.addedEmails.length?a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeEmail(t)}}},[e._v("删除")]):e._e()],1)}),a("el-form-item",{staticClass:"operations"},[a("el-button",{staticClass:"main",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(!1)}}},[e._v("提交")]),a("el-button",{staticClass:"main",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(!0)}}},[e._v("上线")])],1)],2)],1)])])},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("768b")),o=a("bd86"),s=(a("96cf"),a("3b8d")),l=a("d225"),c=a("b0b4"),u=a("308d"),p=a("6bb5"),d=a("4e2b"),m=a("9ab4"),f=a("60a3"),b=a("0c1c"),g=a("2f62"),v=a("5af8"),h=a("a13a"),y=a("d21a"),k=a("94c9");function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach(function(t){Object(o["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j=0,_=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.loading=!1,e.candidatesHR=[],e.form={salaryRange:[],workAgeRange:[],addedEmails:[{value:"",key:""}],addressId:"",degreeMin:"",description:"",isGraduate:!0,jobType:"",managerUid:"",positionCatalog:"",positionName:"",published:!0,requirement:"",salaryMax:"",salaryMin:"",template:!1,workAddress:{county:0,detail:"",latitude:0,longitude:0,province:0},workAgeMax:0,workAgeMin:0},e.citiesConstant=v["a"],e.dynamicTags=["标签一","标签二","标签三"],e.inputVisible=!1,e.inputValue="",e.rules={positionName:[{required:!0,message:"请输入职位名称",trigger:"blur"}],jobType:[{required:!0,message:"请选择工作性质",trigger:"blur"}],positionCatalog:[{required:!0,message:"请选择职位分类",trigger:"blur"}],salaryRange:[{required:!0,message:"请选择月薪范围",trigger:"blur"}],degreeMin:[{required:!0,message:"请选择最低学历",trigger:"blur"}],workAgeRange:[{required:!0,message:"请选择工作年限",trigger:"blur"}],"workAddress.province":[{required:!0,message:"请选择工作地址",trigger:"blur"}],description:[{required:!0,message:"请输入职位描述",trigger:"blur"}],requirement:[{required:!0,message:"请输入任职要求",trigger:"blur"}],managerUid:[{required:!0,message:"请选择负责 HR",trigger:"blur"}]},e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"onSubmit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.$refs.form;a.validate(function(){var a=Object(s["a"])(regeneratorRuntime.mark(function a(r){var n,i,o;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(!r){a.next=7;break}return console.log(e.form),n=e.form,i=n.addedEmails,o=n.positionCatalog,a.next=5,Object(h["a"])(O({},e.form,{addedEmails:i.map(function(e){return e.value}),positionCatalog:o[o.length-1],published:t,salaryRange:void 0,workAgeRange:void 0}));case 5:e.$message.success("职位发布成功！"),e.$router.push({name:"occupation-info"});case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}},{key:"syncSelectedSalary",value:function(e){var t=Object(i["a"])(e,2),a=t[0],r=t[1];this.form.salaryMin=a,this.form.salaryMax=r}},{key:"syncWorkingAge",value:function(e){var t=Object(i["a"])(e,2),a=t[0],r=t[1];this.form.workAgeMin=a,this.form.workAgeMax=r}},{key:"querySearchHRAsync",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(k["f"])({pageSize:10,pageNum:1,keyword:t});case 3:this.candidatesHR=e.sent.data.list,this.loading=!1;case 5:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"handleClose",value:function(e){this.dynamicTags.splice(this.dynamicTags.indexOf(e),1)}},{key:"syncSelectedDistrict",value:function(e){this.form.workAddress.province=e[j],e.length>1&&(this.form.workAddress.county=e[j+1])}},{key:"showInput",value:function(){this.inputVisible=!0,this.$nextTick(function(){})}},{key:"handleInputConfirm",value:function(){var e=this.inputValue;e&&this.dynamicTags.push(e),this.inputVisible=!1,this.inputValue=""}},{key:"removeEmail",value:function(e){var t=this.form.addedEmails.indexOf(e);-1!==t&&this.form.addedEmails.splice(t,1)}},{key:"addEmail",value:function(){this.form.addedEmails.push({value:"",key:Date.now()})}}]),t}(f["b"]);_=m["a"]([Object(f["a"])({components:{District:b["a"]},computed:Object(g["e"])({options:function(e){return e.constants.options},positionCatalogs:function(e){return Object(y["b"])(e.constants.positionCatalogs)}})})],_);var C=_,x=C,R=(a("f309"),a("bcaa4"),a("2877")),S=Object(R["a"])(x,r,n,!1,null,"e3b342a4",null);t["default"]=S.exports},df6a:function(e,t,a){},e82a:function(e,t,a){},f309:function(e,t,a){"use strict";var r=a("b132"),n=a.n(r);n.a},fbb2:function(e,t,a){},fcf1:function(e,t,a){}}]);
//# sourceMappingURL=occupation.516d9236.js.map